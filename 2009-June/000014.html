<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Xepersian-development] r47 - trunk
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/xepersian-development/2009-June/index.html" >
   <LINK REL="made" HREF="mailto:xepersian-development%40lists.berlios.de?Subject=Re%3A%20%5BXepersian-development%5D%20r47%20-%20trunk&In-Reply-To=%3C200906020902.n5292Pin026999%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000013.html">
   <LINK REL="Next"  HREF="000015.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Xepersian-development] r47 - trunk</H1>
    <B>vafa at mail.berlios.de</B> 
    <A HREF="mailto:xepersian-development%40lists.berlios.de?Subject=Re%3A%20%5BXepersian-development%5D%20r47%20-%20trunk&In-Reply-To=%3C200906020902.n5292Pin026999%40sheep.berlios.de%3E"
       TITLE="[Xepersian-development] r47 - trunk">vafa at mail.berlios.de
       </A><BR>
    <I>Tue Jun  2 11:02:25 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000013.html">[Xepersian-development] r46 - trunk
</A></li>
        <LI>Next message: <A HREF="000015.html">[Xepersian-development] r48 - trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14">[ date ]</a>
              <a href="thread.html#14">[ thread ]</a>
              <a href="subject.html#14">[ subject ]</a>
              <a href="author.html#14">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: vafa
Date: 2009-06-02 11:02:21 +0200 (Tue, 02 Jun 2009)
New Revision: 47

Modified:
   trunk/xepersian.dtx
Log:
fixed the issue of enumlabel inside latin and persian environments

Modified: trunk/xepersian.dtx
===================================================================
--- trunk/xepersian.dtx	2009-06-02 07:55:27 UTC (rev 46)
+++ trunk/xepersian.dtx	2009-06-02 09:02:21 UTC (rev 47)
@@ -156,7 +156,7 @@
 %    \begin{macrocode}
 \NeedsTeXFormat{LaTeX2e}
 \def\xepersianversion{v1.0.1}
-\def\xepersianrevision{revision 46}
+\def\xepersianrevision{revision 47}
 \def\xepersiandate{2009/06/01}
 \ProvidesPackage{xepersian}[\xepersiandate\space \xepersianversion\space &lt;\xepersianrevision&gt;
 	Persian typesetting in XeLaTeX]
@@ -187,7 +187,7 @@
 \PackageError{xepersian}{Oops! you have not specified any font for the Latin texts of the document. Please specify a font for the Latin texts of the document by using \setlatintextfont\space CS, and then try to run xelatex on your document again}%
 \fi}
 \AtBeginDocument{\ifdefined\decimalseparator\relax\else%
-\PackageWarning{xepersian}{You have not specified any font for the digits in maths mode and so the digits in maths mode will appear Latin. If you would like to have Persian digits in maths mode, then please specify a font for the digits in maths mode by using \setdigitfont\space CS, and then try to run xelatex on your document again}%
+\PackageWarning{xepersian}{&#8220;You have not specified any font for the digits in maths mode and so the digits in maths mode will appear Latin. If you would like to have Persian digits in maths mode, then please specify a font for the digits in maths mode by using \setdigitfont\space CS, and then try to run xelatex on your document again&#8221;}%
 \fi}
 \RequirePackage[RTLdocument]{bidi}
 \RequirePackage{fontspec}
@@ -200,7 +200,7 @@
    }{%
       XePersian Error: #1%
    }{%
-      Please first produce a similar file without using XePersian package and then compile it with xelatex, if you got the same error, then please study the Persian translation of 'The not so Short Introduction to LaTeX' by MEHDI OMIDALI, otherwise please report the error with a minimal tex file which shows the error to  the Author of XePersian.%
+      Please first produce a similar file without using XePersian package and then compile it with xelatex, if you got the same error, then please study the Persian translation of &#8220;The not so Short Introduction to LaTeX&#8221; by MEHDI OMIDALI, otherwise please report the error with a minimal tex file which shows the error to  the Author of XePersian.%
    }{#2}%
 }
 \gdef\@latexbug{%
@@ -236,12 +236,12 @@
   \@tempa}
 \def\lr#1{\begingroup\beginL\latinfont#1\endL\endgroup}
 \def\rl#1{\begingroup\beginR\persianfont#1\endR\endgroup}
-\def\latin{\bgroup\par\@RTLfalse\latinfont}
+\def\latin{\bgroup\LatinAlphs\par\@RTLfalse\latinfont}
 \def\endlatin{\par\egroup}
-\def\persian{\bgroup\par\@RTLtrue\persianfont}
+\def\persian{\bgroup\PersianAlphs\par\@RTLtrue\persianfont}
 \def\endpersian{\par\egroup}
-\def\Latin{\<A HREF="https://lists.berlios.de/mailman/listinfo/xepersian-development">if at RTL</A>\par\@RTLfalse\latinfont\fi}
-\def\Persian{\<A HREF="https://lists.berlios.de/mailman/listinfo/xepersian-development">if at RTL</A>\relax\else\par\@RTLtrue\persianfont\fi}
+\def\Latin{\<A HREF="https://lists.berlios.de/mailman/listinfo/xepersian-development">if at RTL</A>\par\LatinAlphs\@RTLfalse\latinfont\fi}
+\def\Persian{\<A HREF="https://lists.berlios.de/mailman/listinfo/xepersian-development">if at RTL</A>\relax\else\par\PersianAlphs\@RTLtrue\persianfont\fi}
 \let\originaltoday=\today
 \def\today{\lr{\originaltoday}}
 \let\latintoday\today
@@ -321,10 +321,17 @@
   \ifcase#1\or &#1594;\fi
   \ifnum#1=\z@\fi\<A HREF="https://lists.berlios.de/mailman/listinfo/xepersian-development">abj at num</A>@iii}
 }
-\let\@latinalph\@alph%
+   \let\@latinalph\@alph%
    \let\@latinAlph\@Alph%
+\def\PersianAlphs{%
    \let\@alph\abjad%
    \let\@Alph\abjad%
+}
+\def\LatinAlphs{%
+   \let\@alph\@latinalph%
+   \let\@Alph\@latinAlph%
+}
+\PersianAlphs
 \@ifpackageloaded{listings}{\input{listings-xepersian.def}}{}
 \@ifpackageloaded{algorithmic}{\input{algorithmic-xepersian.def}}{}
 \@ifpackageloaded{algorithm}{\input{algorithm-xepersian.def}}{}
@@ -412,9 +419,9 @@
 % \part{beamer-xepersian.def}
 %    \begin{macrocode}
 \def\familydefault{\rmdefault}
-\def\latin{\bgroup\par\raggedright\@RTLfalse\latinfont}
+\def\latin{\bgroup\LatinAlphs\par\raggedright\@RTLfalse\latinfont}
 \def\endlatin{\par\egroup}
-\def\persian{\bgroup\par\raggedleft\@RTLtrue\persianfont}
+\def\persian{\bgroup\PersianAlphs\par\raggedleft\@RTLtrue\persianfont}
 \def\endpersian{\par\egroup}
 \def\biditheoremname{&#1602;&#1590;&#1740;&#1607;}
 \def\bidicorollaryname{&#1606;&#1578;&#1740;&#1580;&#1607;}


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000013.html">[Xepersian-development] r46 - trunk
</A></li>
	<LI>Next message: <A HREF="000015.html">[Xepersian-development] r48 - trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14">[ date ]</a>
              <a href="thread.html#14">[ thread ]</a>
              <a href="subject.html#14">[ subject ]</a>
              <a href="author.html#14">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/xepersian-development">More information about the Xepersian-development
mailing list</a><br>
</body></html>
